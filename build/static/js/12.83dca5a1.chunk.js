(this["webpackJsonpcinedantan.com"]=this["webpackJsonpcinedantan.com"]||[]).push([[12],{320:function(e,t,n){"use strict";n.r(t);var r=n(24),o=n(234),i=n(0),c=n.n(i),u=n(25),a=n(99),f=n(60),l=n(33),s=n(287),b=n.n(s);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=Object(u.b)((function(e){return p({},e)}),(function(e){return{setIsPlaying:function(t){return e(Object(f.b)(t))},setViewingHistory:function(t){return e(Object(f.e)(t))}}}))((function(e){var t=e.videos,n=e.identifier,r=e.imdb,u=e.setIsPlaying,a=e.setViewingHistory,f=e.viewingHistory,l=Object(i.useState)([]),s=Object(o.a)(l,2),O=s[0],j=s[1],d=Object(i.useRef)(null);return Object(i.useEffect)((function(){j(t)}),[t]),Object(i.useEffect)((function(){return function(){u(null)}}),[u]),Object(i.useEffect)((function(){}),[r,d]),c.a.createElement("div",null,O&&O[0]&&O.length<6?c.a.createElement(b.a,{ref:d,width:"100vw",height:"100vh",url:O,pip:!1,playing:!0,controls:!0,light:!1,loop:!1,muted:!1,onReady:function(){},onStart:function(){var e=f.filter((function(e){return e.imdb===r}))[0];e&&e.playedSeconds&&d&&d.current&&d.current.seekTo(e.playedSeconds)},onPlay:function(){},onEnablePIP:function(){},onDisablePIP:function(){},onPause:function(){},onBuffer:function(){},onSeek:function(e){},onEnded:function(){},onError:function(e){return console.log("onError",e)},onProgress:function(e){a(p({imdb:r},e))},onDuration:function(e){}}):c.a.createElement("iframe",{title:"archive-org",src:"https://archive.org/embed/"+n,width:"640",height:"580",frameBorder:"0",webkitallowfullscreen:"true",mozallowfullscreen:"true",allowFullScreen:!0}))}));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(u.b)((function(e){return y({},e)}),(function(e){return{setIsPlaying:function(t){return e(Object(f.b)(t))}}}))((function(e){var t=e.setIsPlaying,n=e.movies,r=e.route,u=Object(i.useState)([]),f=Object(o.a)(u,2),s=f[0],b=f[1],O=r.match,p=O&&O.params?window.atob(O.params.id):null,d=n.filter((function(e){return e.imdb===p}))[0],g=d||{aoFiles:null,identifier:null},m=g.aoFiles,P=g.identifier;Object(i.useEffect)((function(){if(m){var e=m.filter((function(e){return["h.264","512Kb MPEG4","MPEG4"].indexOf(e.format)>-1})).map((function(e){return"https://archive.org/download/"+P+e.url}));t(y({videos:e},d)),b(e)}}),[m,d,t,P]);var h=d.title,v=d.story;return c.a.createElement("div",null,c.a.createElement(a.a,{title:"\ud83c\udfa5 \ud83c\udf7f Playing "+h,description:v?v.slice(0,100)+"...":"",image:Object(l.a)(P)}),s?c.a.createElement(j,Object.assign({videos:s},d)):null)}))}}]);