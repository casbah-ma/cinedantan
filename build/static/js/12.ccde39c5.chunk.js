(this["webpackJsonpcinedantan.com"]=this["webpackJsonpcinedantan.com"]||[]).push([[12],{319:function(e,n,t){"use strict";t.r(n);var i=t(11),r=t(238),o=t(0),c=t.n(o),u=t(25),a=t(99),l=t(60),f=t(33),s=t(286),b=t.n(s);var d=Object(u.b)((function(e){return Object(i.a)({},e)}),(function(e){return{setIsPlaying:function(n){return e(Object(l.b)(n))},setViewingHistory:function(n){return e(Object(l.e)(n))}}}))((function(e){var n=e.videos,t=e.identifier,u=e.imdb,a=e.setIsPlaying,l=e.setViewingHistory,f=e.viewingHistory,s=Object(o.useState)([]),d=Object(r.a)(s,2),m=d[0],O=d[1],g=Object(o.useRef)(null);return Object(o.useEffect)((function(){O(n)}),[n]),Object(o.useEffect)((function(){return function(){a(null)}}),[a]),Object(o.useEffect)((function(){}),[u,g]),c.a.createElement("div",null,m&&m[0]&&m.length<6?c.a.createElement(b.a,{ref:g,width:"100vw",height:"100vh",url:m,pip:!1,playing:!0,controls:!0,light:!1,loop:!1,muted:!1,onReady:function(){},onStart:function(){var e=f.filter((function(e){return e.imdb===u}))[0];e&&e.playedSeconds&&g&&g.current&&g.current.seekTo(e.playedSeconds)},onPlay:function(){},onEnablePIP:function(){},onDisablePIP:function(){},onPause:function(){},onBuffer:function(){},onSeek:function(e){},onEnded:function(){},onError:function(e){return console.log("onError",e)},onProgress:function(e){l(Object(i.a)({imdb:u},e))},onDuration:function(e){}}):c.a.createElement("iframe",{title:"archive-org",src:"https://archive.org/embed/"+t,width:"640",height:"580",frameBorder:"0",webkitallowfullscreen:"true",mozallowfullscreen:"true",allowFullScreen:!0}))}));n.default=Object(u.b)((function(e){return Object(i.a)({},e)}),(function(e){return{setIsPlaying:function(n){return e(Object(l.b)(n))}}}))((function(e){var n=e.setIsPlaying,t=e.movies,u=e.route,l=Object(o.useState)([]),s=Object(r.a)(l,2),b=s[0],m=s[1],O=u?u.match:null,g=O&&O.params?window.atob(O.params.id):null,j=t.filter((function(e){return e.imdb===g}))[0],h=j||{aoFiles:null,identifier:null},v=h.aoFiles,p=h.identifier;Object(o.useEffect)((function(){if(v){var e=v.filter((function(e){return["h.264","512Kb MPEG4","MPEG4"].indexOf(e.format)>-1})).map((function(e){return"https://archive.org/download/"+p+e.url}));n(Object(i.a)({videos:e},j)),m(e)}}),[v,j,n,p]);var E=j||{title:null,story:null},w=E.title,y=E.story;return c.a.createElement("div",null,c.a.createElement(a.a,{title:"\ud83c\udfa5 \ud83c\udf7f Playing "+w,description:y?y.slice(0,100)+"...":"",image:Object(f.a)(p)}),b?c.a.createElement(d,Object.assign({videos:b},j)):null)}))}}]);